<div class="container">
<mat-card [formGroup]="userDetailFormGroup" class="signup-form">
    <mat-card-header>
        <mat-card-title>New Account</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <mat-form-field appearance="outline">
            <mat-label>Username</mat-label>
            <input matInput formControlName="username" required>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input matInput formControlName="password" required>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input
            matInput
            placeholder="email@example.com"
            [formControl]="email"
            (blur)="updateErrorMessage()"
            required
          />
          @if (email.invalid) {
            <mat-error>{{errorMessage()}}</mat-error>
          }
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Role</mat-label>
            <input matInput formControlName="role">
        </mat-form-field>
        <mat-card-actions>
            <button (click)="saveUser()" mat-raised-button color="primary">Sign up</button>
        </mat-card-actions>
        <span>Already have an account ? <a routerLink="/login">Sign In</a></span>
    </mat-card-content>
</mat-card>
</div>